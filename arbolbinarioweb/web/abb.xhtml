<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./templatemain.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html">    

    <ui:define name="content"> 

        <p:growl id="grwlErrores"/>
        <p:diagram id="pnlArbol" value="#{arbolBinarioControlador.model}" style="height:400px" styleClass="ui-widget-content" />

        <h:form>
            <p:panel header="Panel Nuevo Nodo">
                <p:outputLabel value="Dato:"/>
                <p:inputText required="true" value="#{arbolBinarioControlador.dato}"/>
                <p:commandButton ajax="false"  value="Agregar" action="#{arbolBinarioControlador.adicionarNodo()}"
                                 update="@all" />
               
                <p:commandButton id="inOrdenBtn" value="InOrden" type="button" />
                <p:overlayPanel id="inOrdenPanel" for="inOrdenBtn" hideEffect="fade" dynamic="true" style="width:600px" modal="true">
                    <p:dataTable var="nodo" value="#{arbolBinarioControlador.arbol.inOrden()}" rows="10" paginator="true">
                        <p:column headerText="InOrden">
                            <h:outputText value="#{nodo}" />
                        </p:column>
                    </p:dataTable>
                </p:overlayPanel>
                
                
                <p:commandButton id="preOrdenBtn" value="PreOrden" type="button" />
                <p:overlayPanel id="preOrdenPanel" for="preOrdenBtn" hideEffect="fade" dynamic="true" style="width:600px" modal="true">
                    <p:dataTable var="nodo" value="#{arbolBinarioControlador.arbol.preOrden()}" rows="10" paginator="true">
                        <p:column headerText="PreOrden">
                            <h:outputText value="#{nodo}" />
                        </p:column>
                    </p:dataTable>
                </p:overlayPanel>
                
                <p:commandButton id="postOrdenBtn" value="PostOrden" type="button" />
                <p:overlayPanel id="postOrdenPanel" for="postOrdenBtn" hideEffect="fade" dynamic="true" style="width:600px" modal="true">
                    <p:dataTable var="nodo" value="#{arbolBinarioControlador.arbol.postOrden()}" rows="10" paginator="true">
                        <p:column headerText="PostOrden">
                            <h:outputText value="#{nodo}" />
                        </p:column>
                        
                    </p:dataTable>
                </p:overlayPanel>
                
                 <p:commandButton id="porNivelesBtn" value="Por Niveles" type="button" />
                <p:overlayPanel id="porNivelesPanel" for="porNivelesBtn" hideEffect="fade" dynamic="true" style="width:600px" modal="true">
                    <p:dataTable var="nodo" value="#{arbolBinarioControlador.arbol.impNiveles()}" rows="10" paginator="true">
                        <p:column headerText="Por Niveles">
                            <h:outputText value="#{nodo}" />
                        </p:column>
                    </p:dataTable>
                </p:overlayPanel>
                 
                 <p:commandButton id="nivelOrdenadoBtn" value="Nivel Ordenado" type="button" />
                <p:overlayPanel id="nivelOrdenadoPanel" for="nivelOrdenadoBtn" hideEffect="fade" dynamic="true" style="width:600px" modal="true">
                    <p:dataTable var="nodo" value="#{arbolBinarioControlador.arbol.imprimirNivel()}" rows="10" paginator="true">
                        <p:column headerText="Nivel Ordenado">
                            <h:outputText value="#{nodo}" />
                        </p:column>
                        
                    </p:dataTable>
                </p:overlayPanel>
                 
                <p:commandButton id="hojasBtn" value="Hojas" type="button" />
                <p:overlayPanel id="hojasPanel" for="hojasBtn" hideEffect="fade" dynamic="true" style="width:600px" modal="true">
                    <p:dataTable var="nodo" value="#{arbolBinarioControlador.arbol.hojas()}" rows="10" paginator="true">
                        <p:column headerText="Hojas">
                            <h:outputText value="#{nodo}" />
                        </p:column>
                        
                    </p:dataTable>
                </p:overlayPanel>
                
                <p:commandButton value="Borrar" action="#{arbolBinarioControlador.arbol.borrar(x)}"/>
                 
                
                
            </p:panel>
        </h:form>
        <h:form>
            <p:panel header="Llenar árbol">
                <p:inputTextarea required="true" cols="40" value="#{arbolBinarioControlador.datoscsv}"/>
                <p:commandButton value="LLenar Arbol" action="#{arbolBinarioControlador.extraerDatos()}"
                                 update="@all" ajax="false"/>
                <p:commandButton value="Buscar" action="#{arbolBinarioControlador.arbol.buscar(x)}"/>
                <p:commandButton value="Buscar Padre" action="#{arbolBinarioControlador.arbol.darPadre(hijo)}"/>
                <p:commandButton value="Podar" action="#{arbolBinarioControlador.arbol.podar()}"/>
                <p:commandButton value="Borrar Mayor" action="#{arbolBinarioControlador.arbol.borrarMayor()}"/>
                <p:commandButton value="Borrar Menor" action="#{arbolBinarioControlador.arbol.borrarMenor()}"/>
                <p:commandButton value="Cambiar Valor" action="#{arbolBinarioControlador.arbol.cambiar()}"/>
                
                
            </p:panel>
        </h:form>
        <h:form>

            <p:panel header="Terminados en">
                <p:inputText required="true" value="#{arbolBinarioControlador.terminado}"/>
                <p:commandButton value="Buscar Terminados" action="#{arbolBinarioControlador.buscarTerminadosEn()}"
                                 update="@all" ajax="false"/>
                <p:commandButton value="Obtener árbol terminados" 
                                 action="#{arbolBinarioControlador.encontrarTerminadosEn()}"
                                 update="@all" ajax="false"/>
            </p:panel>
        </h:form>
        <p:diagram id="pnlArbolTerminados" value="#{arbolBinarioControlador.modelArbol2}" style="height:400px" styleClass="ui-widget-content" />
    </ui:define>
</ui:composition>
